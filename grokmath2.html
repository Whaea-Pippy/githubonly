<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Math Sentence Builders</title>
    <style>
        * { box-sizing: border-box; }
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            background: #f0f8ff;
            display: flex;
            flex-direction: column;
            height: 100vh;
            overflow: hidden;
        }
        header {
            background: #333;
            padding: 10px;
            text-align: center;
        }
        h1 {
            color: white;
            margin: 5px 0;
            font-size: 22px;
        }
        .nav-buttons {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 8px;
            padding: 8px 0;
        }
        .nav-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: none;
            font-size: 24px;
            font-weight: bold;
            color: white;
            cursor: pointer;
            transition: all 0.2s;
        }
        .nav-btn:hover { transform: scale(1.1); }
        .nav-btn.active {
            box-shadow: 0 0 15px 4px rgba(255,255,255,0.8);
            transform: scale(1.15);
        }
        main {
            flex: 1;
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            overflow: hidden;
        }
        .sentence-area {
            background: white;
            border-radius: 20px;
            padding: 20px;
            min-height: 140px;
            box-shadow: 0 6px 16px rgba(0,0,0,0.1);
            font-size: 26px;
            font-weight: bold;
            color: #333;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            gap: 12px;
        }
        .word-bank {
            flex: 1;
            background: white;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 6px 16px rgba(0,0,0,0.1);
            overflow-y: auto;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 12px;
        }
        .word {
            background: var(--word-bg);
            color: white;
            padding: 16px;
            border-radius: 15px;
            text-align: center;
            font-size: 20px;
            font-weight: bold;
            cursor: grab;
            user-select: none;
            transition: all 0.2s;
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }
        .word:active { cursor: grabbing; transform: scale(0.95); }
        .word.used {
            opacity: 0.4;
            cursor: not-allowed;
        }
        .sentence-word {
            background: var(--word-bg);
            color: white;
            padding: 12px 20px;
            border-radius: 15px;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
            white-space: nowrap;
        }
        .sentence-word:hover {
            transform: translateY(-3px);
        }
        footer {
            background: #333;
            padding: 15px;
            text-align: center;
        }
        .footer-btn {
            background: white;
            color: #333;
            border: none;
            padding: 14px 36px;
            margin: 0 15px;
            border-radius: 30px;
            font-size: 20px;
            cursor: pointer;
            transition: background 0.3s;
        }
        .footer-btn:hover { background: #eee; }
        .check-btn {
            background: #4CAF50;
            color: white;
        }
        .check-btn:hover { background: #45a049; }
    </style>
</head>
<body>
    <header>
        <h1>Math Sentence Builders</h1>
        <div class="nav-buttons">
            <button class="nav-btn active" style="background:#FF6B6B" data-level="1">1</button>
            <button class="nav-btn" style="background:#FF8E53" data-level="2">2</button>
            <button class="nav-btn" style="background:#FFCC00" data-level="3">3</button>
            <button class="nav-btn" style="background:#9ACD32" data-level="4">4</button>
            <button class="nav-btn" style="background:#4CAF50" data-level="5">5</button>
            <button class="nav-btn" style="background:#20B2AA" data-level="6">6</button>
            <button class="nav-btn" style="background:#4682B4" data-level="7">7</button>
            <button class="nav-btn" style="background:#9370DB" data-level="8">8</button>
            <button class="nav-btn" style="background:#DA70D6" data-level="9">9</button>
            <button class="nav-btn" style="background:#FF69B4" data-level="10">10</button>
        </div>
    </header>
    <main>
        <div class="sentence-area" id="sentence-area"></div>
        <div class="word-bank" id="word-bank"></div>
    </main>
    <footer>
        <button class="footer-btn" id="reset-btn">Reset</button>
        <button class="footer-btn check-btn" id="check-btn">Check Sentence ✓</button>
    </footer>
    <script>
        // Helper to shuffle array
        function shuffle(array) {
            const arr = array.slice();
            for (let i = arr.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [arr[i], arr[j]] = [arr[j], arr[i]];
            }
            return arr;
        }

        const levels = [
            [], // unused
            { 
                baseWords: ["5", "3", "8", "The", "sum", "of", "and", "is"],
                correctOptions: [
                    ["The", "sum", "of", "5", "and", "3", "is", "8"],
                    ["The", "sum", "of", "3", "and", "5", "is", "8"]
                ],
                colour: "#FF6B6B"
            },
            { 
                baseWords: ["10", "4", "6", "The", "difference", "between", "and", "is"],
                correctOptions: [
                    ["The", "difference", "between", "10", "and", "4", "is", "6"]
                    ["The", "difference", "between", "10", "and", "6", "is", "4"]
                ],
                colour: "#FF8E53"
            },
            { 
                baseWords: ["7", "6", "42", "The", "product", "of", "and", "is"],
                correctOptions: [
                    ["The", "product", "of", "7", "and", "6", "is", "42"],
                    ["The", "product", "of", "6", "and", "7", "is", "42"]
                ],
                colour: "#FFCC00"
            },
            { 
                baseWords: ["20", "5", "4", "The", "quotient", "of", "and", "is"],
                correctOptions: [
                    ["The", "quotient", "of", "20", "and", "5", "is", "4"]
                    ["The", "quotient", "of", "20", "and", "4", "is", "5"]
                ],
                colour: "#9ACD32"
            },
            { 
                baseWords: ["1/2", "1/4", "3/4", "Adding", "and", "gives"],
                correctOptions: [
                    ["Adding", "1/2", "and", "1/4", "gives", "3/4"],
                    ["Adding", "1/4", "and", "1/2", "gives", "3/4"]
                ],
                colour: "#4CAF50"
            },
            { 
                baseWords: ["length", "width", "area", "The", "of", "a", "rectangle", "is", "times"],
                correctOptions: [
                    ["The", "area", "of", "a", "rectangle", "is", "length", "times", "width"],
                    ["The", "area", "of", "a", "rectangle", "is", "width", "times", "length"]
                ],
                colour: "#20B2AA"
            },
            { 
                baseWords: ["then", "add", "all", "the", "numbers", "divide", "by", "how", "many", "To", "find", "the", "mean"],
                correctOptions: [
                    ["To", "find", "the", "mean", "add", "all", "the", "numbers", "then", "divide", "by", "how", "many"]
                ],
                colour: "#4682B4"
            },
            { 
                baseWords: ["x", "stands", "for", "an", "unknown", "number", "The", "variable"],
                correctOptions: [
                    ["The", "variable", "x", "stands", "for", "an", "unknown", "number"]
                ],
                colour: "#9370DB"
            },
            { 
                baseWords: ["(3,4)", "The", "point", "is", "located", "at", "on", "the", "coordinate", "plane"],
                correctOptions: [
                    ["The", "point", "is", "located", "at", "(3,4)", "on", "the", "coordinate", "plane"]
                ],
                colour: "#DA70D6"
            },
            { 
                baseWords: ["a²", "b²", "c²", "In", "a", "right-angled", "triangle", "plus", "equals"],
                correctOptions: [
                    ["In", "a", "right-angled", "triangle", "a²", "plus", "b²", "equals", "c²"],
                    ["In", "a", "right-angled", "triangle", "b²", "plus", "a²", "equals", "c²"]
                ],
                colour: "#FF69B4"
            }
        ];

        let currentLevel = 1;

        const sentenceArea = document.getElementById('sentence-area');
        const wordBank = document.getElementById('word-bank');
        const navBtns = document.querySelectorAll('.nav-btn');
        const resetBtn = document.getElementById('reset-btn');
        const checkBtn = document.getElementById('check-btn');

        function loadLevel(level) {
            currentLevel = level;
            const data = levels[level];
            document.body.style.backgroundColor = data.colour + '22';

            wordBank.innerHTML = '';
            sentenceArea.innerHTML = '';

            const shuffledWords = shuffle(data.baseWords);

            shuffledWords.forEach(wordText => {
                const wordEl = document.createElement('div');
                wordEl.className = 'word';
                wordEl.textContent = wordText;
                wordEl.style.setProperty('--word-bg', data.colour);

                wordEl.draggable = true;
                wordEl.addEventListener('dragstart', e => {
                    e.dataTransfer.setData('text/plain', wordText);
                });

                wordEl.addEventListener('click', () => {
                    if (!wordEl.classList.contains('used')) {
                        addWordToSentence(wordText, data.colour);
                        wordEl.classList.add('used');
                    }
                });

                wordBank.appendChild(wordEl);
            });

            updateActiveButton();
        }

        function addWordToSentence(wordText, colour) {
            const wordSpan = document.createElement('span');
            wordSpan.className = 'sentence-word';
            wordSpan.textContent = wordText;
            wordSpan.style.setProperty('--word-bg', colour);

            wordSpan.addEventListener('click', () => {
                wordSpan.remove();
                const original = Array.from(wordBank.querySelectorAll('.word')).find(w => w.textContent === wordText && w.classList.contains('used'));
                if (original) original.classList.remove('used');
            });

            sentenceArea.appendChild(wordSpan);
        }

        sentenceArea.addEventListener('dragover', e => e.preventDefault());

        sentenceArea.addEventListener('drop', e => {
            e.preventDefault();
            const wordText = e.dataTransfer.getData('text/plain');
            if (wordText) {
                const colour = levels[currentLevel].colour;
                addWordToSentence(wordText, colour);
                const original = Array.from(wordBank.querySelectorAll('.word')).find(w => w.textContent === wordText);
                if (original) original.classList.add('used');
            }
        });

        function updateActiveButton() {
            navBtns.forEach(btn => {
                btn.classList.toggle('active', parseInt(btn.dataset.level) === currentLevel);
            });
        }

        resetBtn.addEventListener('click', () => loadLevel(currentLevel));

        checkBtn.addEventListener('click', () => {
            const built = Array.from(sentenceArea.querySelectorAll('.sentence-word'))
                .map(el => el.textContent.trim());

            const data = levels[currentLevel];

            if (built.length === 0) {
                alert("Build a sentence first!");
                return;
            }

            const isCorrect = data.correctOptions.some(option => 
                built.length === option.length && 
                built.every((word, i) => word === option[i])
            );

            const exampleCorrect = data.correctOptions[0].join(" ");

            if (isCorrect) {
                alert(`✅ Perfect! "${exampleCorrect}" is exactly right!`);
            } else {
                alert(`❌ Not quite.\n\nThe correct sentence is:\n"${exampleCorrect}"\n\nTry again!`);
            }
        });

        navBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                loadLevel(parseInt(btn.dataset.level));
            });
        });

        loadLevel(1);
    </script>
</body>
</html>

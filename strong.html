<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Mobile Strength Tracker</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  /* --- BODY & GENERAL --- */
  body {
    font-family: Poppins, Arial, sans-serif;
    margin: 0;
    padding: 10px;
    background: #f8f8f8;
    color: #333;
  }

  h1, h2 {
    font-weight: 600;
    text-align: center;
  }

  /* --- CARD LAYOUT --- */
  .exercise-card {
    background: #fff;
    border-radius: 16px;
    padding: 20px;
    margin-bottom: 16px;
    box-shadow: 0 3px 8px rgba(0,0,0,0.08);
  }

  .exercise-name {
    font-size: 22px;
    font-weight: 700;
    margin-bottom: 6px;
  }

  .exercise-desc {
    font-size: 16px;
    color: #555;
    margin-bottom: 12px;
  }

  .timer {
    font-size: 28px;
    font-weight: 600;
    text-align: center;
    margin-bottom: 10px;
  }

  .bar-wrap {
    width: 100%;
    height: 20px;
    background: #eee;
    border-radius: 12px;
    overflow: hidden;
    margin-bottom: 12px;
  }

  .bar {
    width: 0%;
    height: 100%;
    background: linear-gradient(90deg,#27AE60,#7DCEA0);
    transition: width 0.2s linear;
  }

  button {
    font-size: 20px;
    padding: 12px 18px;
    border: none;
    border-radius: 12px;
    margin: 6px 0;
    width: 100%;
    cursor: pointer;
  }

  .start-btn { background: #4CAF50; color: white; }
  .complete-btn { background: #8E44AD; color: white; }
  .reset-btn { background: #f44336; color: white; }

  /* --- HISTORY --- */
  .history-box {
    background: #fff;
    padding: 16px;
    border-radius: 16px;
    box-shadow: 0 3px 8px rgba(0,0,0,0.08);
    margin-bottom: 16px;
  }

  .history-entry {
    font-size: 16px;
    border-bottom: 1px solid #ddd;
    padding: 8px 0;
  }

  .history-entry:last-child { border-bottom: none; }

  /* --- WEEKLY TOTAL --- */
  .weekly-total {
    font-size: 18px;
    font-weight: 600;
    text-align: center;
    margin-top: 12px;
  }
</style>
</head>
<body>

<h1>Strength Session — 25 min</h1>

<div id="exerciseContainer"></div>

<div class="history-box">
  <h2>History (Days Completed)</h2>
  <div id="historyList"></div>
  <div class="weekly-total" id="weeklyTotal"></div>
  <button class="reset-btn" onclick="resetHistory()">Reset History</button>
</div>

<script>
// --- EXERCISES ---
const exercises = [
  {name:"Breathe",time:60,desc:"Slow nasal breaths, reset posture."},
  {name:"Deep Squat",time:300,desc:"Gentle deep squat, adjust depth for comfort."},
  {name:"Squats",time:120,desc:"Slow controlled reps, hips + legs."},
  {name:"Reverse Lunges",time:120,desc:"Step back, knees friendly, balance work."},
  {name:"Side Lunges",time:120,desc:"Inner thighs + hips + control."},
  {name:"Push-Ups (Wall/Counter)",time:120,desc:"Arms + chest + shoulders."},
  {name:"Plank",time:120,desc:"Core + posture, spine long."},
  {name:"Glute Bridge",time:120,desc:"Glutes + lower back support."},
  {name:"Hip Abduction",time:120,desc:"Fall-prevention muscles."},
  {name:"Calf Raises",time:120,desc:"Balance + ankle strength."},
  {name:"Down-Dog → Plank Flow",time:120,desc:"Shoulders + core + mobility."},
  {name:"Breathe",time:60,desc:"Cool down, nasal breathing."}
];

let index=0;
let remaining=0;
let timer=null;

function renderExercise() {
  if(index>=exercises.length){ sessionComplete(); return; }
  const ex=exercises[index];
  const container=document.getElementById("exerciseContainer");
  container.innerHTML=`
    <div class="exercise-card">
      <div class="exercise-name">${ex.name}</div>
      <div class="exercise-desc">${ex.desc}</div>
      <div class="timer" id="timer">${formatTime(ex.time)}</div>
      <div class="bar-wrap"><div id="bar" class="bar"></div></div>
      <button class="start-btn" onclick="startTimer()">Start Exercise</button>
    </div>
  `;
  window.scrollTo({top:0, behavior:"smooth"});
}

function startTimer() {
  const ex=exercises[index];
  remaining=ex.time;
  updateUI();
  timer=setInterval(tick,1000);
}

function tick() {
  const ex=exercises[index];
  remaining--;
  if(remaining<0){
    clearInterval(timer);
    index++;
    renderExercise(); // auto-scroll
    return;
  }
  updateUI();
}

function updateUI() {
  const ex=exercises[index];
  const pct=((ex.time-remaining)/ex.time)*100;
  document.getElementById("timer").textContent=formatTime(remaining);
  document.getElementById("bar").style.width=pct+"%";
}

function formatTime(sec){ const m=Math.floor(sec/60); const s=String(sec%60).padStart(2,"0"); return `${m}:${s}`; }

function sessionComplete(){
  const container=document.getElementById("exerciseContainer");
  container.innerHTML=`
    <div class="exercise-card">
      <h2>Session Complete!</h2>
      <p>Total: 25 min</p>
      <button class="complete-btn" onclick="logDay()">Save Day</button>
    </div>
  `;
}

function logDay(){
  const today=new Date().toLocaleDateString();
  const hist=JSON.parse(localStorage.getItem("strengthHistory"))||[];
  // Prevent duplicate entry for same day
  if(!hist.some(h=>h.date===today)){ hist.push({date:today,minutes:25}); }
  localStorage.setItem("strengthHistory",JSON.stringify(hist));
  loadHistory();
  renderExercise();
}

function loadHistory(){
  const hist=JSON.parse(localStorage.getItem("strengthHistory"))||[];
  const list=document.getElementById("historyList");
  list.innerHTML=hist.map(h=>`<div class="history-entry">${h.date} — 25 min ✔</div>`).join("");
  // Weekly total
  const weekly=document.getElementById("weeklyTotal");
  let last7=hist.slice(-7);
  const sum=last7.reduce((a,b)=>a+b.minutes,0);
  weekly.textContent=`Last 7 days total: ${sum} min`;
}

function resetHistory(){
  if(confirm("Reset all history?")){ localStorage.removeItem("strengthHistory"); loadHistory(); }
}

// --- INIT ---
loadHistory();
renderExercise();
</script>

</body>
</html>
